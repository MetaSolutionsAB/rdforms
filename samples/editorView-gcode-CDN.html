<html>
  <head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
  </head>
  <body class="tundra">
     <script>
         var dojoConfig = {
             async:true,
             paths: {
                 "rforms/rforms": "http://rforms.googlecode.com/files/rforms2.1"
             }
        };
     </script>
     <script src="http://ajax.googleapis.com/ajax/libs/dojo/1.8.3/dojo/dojo.js"></script>
     <script type="text/javascript" src="testdata.js"></script>
	<style>
		@import "http://ajax.googleapis.com/ajax/libs/dojo/1.8.3/dijit/themes/tundra/tundra.css";
		@import "http://rforms.googlecode.com/svn/trunk/src/rforms/view/resources/rforms.css";
	</style>
     <script type="text/javascript">
         //TODO: Move to rdforms when there is a new hosted version.
         require(['rforms'], function() {
             require([
                 'rdfjson/Graph',              //Rdfjson Graph API
                 'rforms/template/ItemStore',  //Stores all the form templates
                 'rforms/model/Engine',        //The engine for matching RDF to template
                 'rforms/view/Editor',         //The editor User interface
                 'dojo/domReady!'              //Wait until the dom is ready.
	       ], function(Graph, ItemStore, Engine, Editor) {
	                var graph = new Graph(testdata.rdfSrc);
			var itemStore = new ItemStore();
	 		var template = itemStore.createTemplate(testdata.templateSrc);
			var binding = Engine.match(graph, "http://example.org/about", template);
			new Editor({template: template, binding: binding}, "compactView");
	      });
	  });
	</script>
	<div id="compactView"></div>
  </body>
</html>
